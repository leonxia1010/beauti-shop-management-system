# 系统角色与权限草案

## 角色定义

- **合伙人（Partner）**

  - 目标：掌握整体经营数据、审批交接、配置系统参数。
  - 特权：查看全部门店数据、导出报表、触发提醒、管理美容师/门店档案。

- **门店管理员（Store Manager，可选）**

  - 目标：协助门店日常录入、确认交接、跟进异常。
  - 权限：录入/修改本门店日常收入、成本，管理美容师名单，提交交接批次，查看本门店报表。

- **美容师（Beautician）**

  - 目标：记录个人服务流水、协助现金交接。
  - 权限：录入/查看个人服务记录（移动端/小程序），上传票据，查看个人分成/补贴，发起交接确认。

- **财务/后台人员（Optional）**
  - 目标：对账、处理异常、维护业务字典。
  - 权限：查看所有数据、执行审核操作、管理成本分类、导入历史数据。

## 权限矩阵（核心功能）

| 功能                       | 合伙人 | 门店管理员 | 美容师 | 财务    |
| -------------------------- | ------ | ---------- | ------ | ------- |
| 查看全部门店日/周/月报表   | ✔      | 门店范围   | ✖      | ✔       |
| 导出报表（Excel/PDF）      | ✔      | 门店范围   | ✖      | ✔       |
| 日常收入录入/修改          | ✔      | 门店范围   | 仅本人 | ✔       |
| 成本录入/OCR 审核          | ✔      | 门店范围   | ✖      | ✔       |
| 现金交接批次创建/审批      | ✔      | 门店范围   | 仅提交 | ✔       |
| 异常处理记录与关闭         | ✔      | 门店范围   | ✖      | ✔       |
| 系统配置（门店/人员/分成） | ✔      | ✖          | ✖      | ✔(协助) |
| 通知与提醒配置             | ✔      | ✖          | ✖      | ✔       |

> 注：门店管理员角色可选，如果初期不引入，可由合伙人统一负责门店维度的操作。

## 数据访问层级

1. **全局数据**：合伙人、财务可访问。
2. **门店级数据**：门店管理员可访问所属门店，美容师仅可访问个人记录。
3. **交接与异常**：合伙人、财务均可查看全部，门店管理员仅限所在门店，美容师看到与自己相关的条目。

## 审批流程建议

- 日常录入由美容师或门店管理员提交，合伙人/财务进行抽查。
- 现金交接批次需至少一位合伙人确认，并自动记录确认人及时间。
- 异常处理可由门店管理员发起，合伙人/财务最终关闭。

## 未来扩展

- 引入“只读查看”角色供外部会计按需访问。
- 接入 SSO 或短信验证码，以提升安全性。
